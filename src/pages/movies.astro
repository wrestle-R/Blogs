---
import Layout from '@/layouts/Layout.astro';
import PageHead from '@/components/PageHead.astro';
import MovieList from '@/components/MovieList';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
---

<Layout>
  <PageHead slot="head" title="Movies" description="My movie collection and recommendations" />
  
  <div class="container mx-auto px-4 py-8 max-w-4xl">
    <div class="mb-8 text-center space-y-4">
      <h1 class="text-4xl font-bold bg-gradient-to-r from-foreground to-muted-foreground bg-clip-text text-transparent">
        Movie Collection
      </h1>
      <!-- <p class="text-base text-muted-foreground">Movies I've watched and loved</p> -->
    </div>

    <!-- Community Suggestions Section -->
    <div class="mb-8 rounded-lg border bg-card shadow-sm">
      <div class="p-6 border-b bg-gradient-to-br from-primary/5 to-transparent">
        <div class="flex items-center justify-between flex-wrap gap-4">
          <div>
            <h2 class="text-2xl font-bold mb-2">Community Suggestions</h2>
            <p class="text-muted-foreground text-sm">
              Add your favorite movies and see what others recommend
            </p>
          </div>
          <div id="suggestions-section" class="inline-flex items-center gap-2 px-5 py-2.5 bg-primary text-primary-foreground rounded-lg hover:opacity-90 hover:scale-105 transition-all font-medium text-sm shadow-sm hover:shadow-md cursor-pointer flex-shrink-0">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            <span>Already Added suggestions</span>
          </div>
        </div>
      </div>
      <div class="p-6">
        <MovieList client:load showSuggestions={false} />
      </div>
    </div>

    <!-- My Last 10 Watched Movies Section -->
    <div class="rounded-lg border bg-card shadow-sm">
      <div class="p-6 border-b bg-gradient-to-br from-primary/5 to-transparent">
        <h2 class="text-2xl font-bold mb-2">My Last 10 Watched Movies</h2>
        <p class="text-muted-foreground text-sm">
          So I've got my last ten watched movies lined up (will keep updating), and honestly, I don't feel like ranking them because I just feel every movie I watch is a masterpiece. Instead of forcing a tier list, I'd rather just write a line or a small paragraph about what I liked in each film and then place it into my own little genre category.
        </p>
      </div>

      <div class="p-6 flex flex-col gap-3">
          <!-- Remember Me -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://www.themoviedb.org/t/p/w1280/j7umuMiLCHvWT7wYhFKJOTFSokF.jpg"
                  alt="Remember Me"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">Remember Me</h3>
                  <span class="inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary ring-1 ring-inset ring-primary/20 shrink-0">drama</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2010</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  This is one of those movies which I could never say where it was going, like the whole thing it just kept moving in a direction i really didn't think it would go, SPOILER ALERT - <button class="spoiler-btn inline text-sm px-1 bg-muted hover:bg-transparent transition-colors cursor-pointer" onclick="this.classList.toggle('revealed')">
                    <span class="spoiler-text">I love the ending, i was very surprised when I saw people found the ending controversial or whatever but I just think it was great</span>
                  </button>
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              This is one of those movies which I could never say where it was going, like the whole thing it just kept moving in a direction i really didn't think it would go, SPOILER ALERT - <button class="spoiler-btn inline text-sm px-1 bg-muted hover:bg-transparent transition-colors cursor-pointer" onclick="this.classList.toggle('revealed')">
                <span class="spoiler-text">I love the ending, i was very surprised when I saw people found the ending controversial or whatever but I just think it was great</span>
              </button>
            </p>
          </div>

          <!-- Little Miss Sunshine -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://image.tmdb.org/t/p/w154/wKn7AJw730emlmzLSmJtzquwaeW.jpg"
                  alt="Little Miss Sunshine"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">Little Miss Sunshine</h3>
                  <span class="inline-flex items-center rounded-full bg-primary px-3 py-1 text-xs font-semibold text-primary-foreground ring-1 ring-inset ring-primary shadow-sm shrink-0">GOAT</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2006</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  AMAZING Movie, no words and ez 10/10, Steve carell is amazing i have just seen 2 movies/shoes he has acted in the office and this and I have to say the range is amazing. Each and every character had something to contribute to the movie which is rare for a movie(since they have time constraints they don't develop all characters), tackling serious topic such as depression and all in not so serious tone was just amazing story telling
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              AMAZING Movie, no words and ez 10/10, Steve carell is amazing i have just seen 2 movies/shoes he has acted in the office and this and I have to say the range is amazing. Each and every character had something to contribute to the movie which is rare for a movie(since they have time constraints they don't develop all characters), tackling serious topic such as depression and all in not so serious tone was just amazing story telling
            </p>
          </div>

          <!-- Steve -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://www.themoviedb.org/t/p/w1280/wmLoMyofbseLfxiGgk1Iz5H97c3.jpg"
                  alt="Steve"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">Steve</h3>
                  <span class="inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary ring-1 ring-inset ring-primary/20 shrink-0">drama</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2021</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  Cillian murphyyy mann he better win an Oscar for this, a bit grim, a bit funny, a bit sad all folded into one. I think i would i couldn't rewatch it even if I wanted to, it's just that kinda movie that stays with you once you finish. The way they shot it from the crew's point of view was crazyy, the whole realistic feel of it was just straightup chilling.
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              Cillian murphyyy mann he better win an Oscar for this, a bit grim, a bit funny, a bit sad all folded into one. I think i would i couldn't rewatch it even if I wanted to, it's just that kinda movie that stays with you once you finish. The way they shot it from the crew's point of view was crazyy, the whole realistic feel of it was just straightup chilling.
            </p>
          </div>

          <!-- Predestination -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://www.themoviedb.org/t/p/w1280/38Xr1JnV1ZcLQ55zmdSp6n475cZ.jpg"
                  alt="Predestination"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">Predestination</h3>
                  <span class="inline-flex items-center rounded-full bg-destructive/10 px-3 py-1 text-xs font-semibold text-destructive ring-1 ring-inset ring-destructive/20 shrink-0">thriller</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2014</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  The Heck did i even watch, i have no idea, idk if I was a bit distracted or did i misunderstand it but this time travel shit is confusing asf SPOILER ALERT - <button class="spoiler-btn inline text-sm px-1 bg-muted hover:bg-transparent transition-colors cursor-pointer" onclick="this.classList.toggle('revealed')">
                    <span class="spoiler-text">So the guy is the father, mother, child and the thief is the bartender what,</span>
                  </button>
                  <br/>
                  I remember watching a German show called 'The Dark' sort of reminds me of that, this is can only be described by me as "Good Kind of disturbing"
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              The Heck did i even watch, i have no idea, idk if I was a bit distracted or did i misunderstand it but this time travel shit is confusing asf SPOILER ALERT - <button class="spoiler-btn inline text-sm px-1 bg-muted hover:bg-transparent transition-colors cursor-pointer" onclick="this.classList.toggle('revealed')">
                <span class="spoiler-text">So the guy is the father, mother, child and the thief is the robber what,</span>
              </button>
              <br/>
              I remember watching a German show called 'The Dark' sort of reminds me of that, this is can only be described by me as "Good Kind of disturbing"
            </p>
          </div>

          <!-- Materialists -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://www.themoviedb.org/t/p/w1280/zh4kaa2dGhVjojHulCWt3AR4b2l.jpg"
                  alt="Materialists"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">Materialists</h3>
                  <span class="inline-flex items-center rounded-full bg-muted px-3 py-1 text-xs font-semibold text-muted-foreground ring-1 ring-inset ring-border shrink-0">romcom</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2024</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  baaaahh Rom-coms what's not to love, has everything that a rom-com should have, the whole idea of like making dating culture into a business is thoda disturbing but ig it's not that far from real life. But ig it suffers from something most romcoms suffer from "Predictability" but ig in this genre there isn't much originality to go around
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              baaaahh Rom-coms what's not to love, has everything that a rom-com should have, the whole idea of like making dating culture into a business is thoda disturbing but ig it's not that far from real life. But ig it suffers from something most romcoms suffer from "Predictability" but ig in this genre there isn't much originality to go around
            </p>
          </div>

          <!-- Superman -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://www.themoviedb.org/t/p/w1280/ombsmhYUqR4qqOLOxAyr5V8hbyv.jpg"
                  alt="Superman"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">Superman</h3>
                  <span class="inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary ring-1 ring-inset ring-primary/20 shrink-0">heroic</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2025</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  Ahh yes Superman the eternal symbol of Hope, love it. I think everyone is too concerned with missing Henry Cavill(he d best) that they look too hard trying to find flaws in David(new one) but I think he did a good job in proving people wrong. And of course Crypto, absolute good boy. The whole war/genocide thing was kinda funny with how easily it triggered people.
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              Ahh yes Superman the eternal symbol of Hope, love it. I think everyone is too concerned with missing Henry Cavill(he d best) that they look too hard trying to find flaws in David(new one) but I think he did a good job in proving people wrong. And of course Crypto, absolute good boy. The whole war/genocide thing was kinda funny with how easily it triggered people.
            </p>
          </div>

          <!-- Grownups -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://www.themoviedb.org/t/p/w1280/ys0LscDFAuZxfUcpH5moiPeFfXs.jpg"
                  alt="Grownups"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">Grownups</h3>
                  <span class="inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary ring-1 ring-inset ring-primary/20 shrink-0">drama</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2010</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  Coaaach Buzzer, pretty good but the question remains how the hell does Adam Sandler nail every role he plays be it a serious role, funny anything howww man must really be the goat, I love flashbacks wala movie the whole last scene SPOILER ALERT - <button class="spoiler-btn inline text-sm px-1 bg-muted hover:bg-transparent transition-colors cursor-pointer" onclick="this.classList.toggle('revealed')">
                    <span class="spoiler-text">of him letting them win the last shot as cliche as it is, i love it everytime</span>
                  </button>
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              Coaaach Buzzer, pretty good but the question remains how the hell does Adam Sandler nail every role he plays be it a serious role, funny anything howww man must really be the goat, I love flashbacks wala movie the whole last scene SPOILER ALERT - <button class="spoiler-btn inline text-sm px-1 bg-muted hover:bg-transparent transition-colors cursor-pointer" onclick="this.classList.toggle('revealed')">
                <span class="spoiler-text">of him letting them win the last shot as cliche as it is, i love it everytime</span>
              </button>
            </p>
          </div>

          <!-- F1 -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://www.themoviedb.org/t/p/w1280/vqBmyAj0Xm9LnS1xe1MSlMAJyHq.jpg"
                  alt="F1"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">F1</h3>
                  <span class="inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary ring-1 ring-inset ring-primary/20 shrink-0">heroic</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2023</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  Okay let me start off by saying I have almost zero F1(the real life car racing wala) but I liked it, the only other f1 culture i have been exposed to is the other movie Ford vs Ferrari which was just spectacular but yeah I liked it(this has started to all meaning because i have some childlike ability to look critically look at movies),but yeah bradd pitt and the Kate lady wala love story has to be the unnecessary thing in the movie i have ever seen, felt rushed and just weird. But I love Joshua pearce his acting was top notch hope to see him in future movies.
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              Okay let me start off by saying I have almost zero F1(the real life car racing wala) but I liked it, the only other f1 culture i have been exposed to is the other movie Ford vs Ferrari which was just spectacular but yeah I liked it(this has started to all meaning because i have some childlike ability to look critically look at movies),but yeah bradd pitt and the Kate lady wala love story has to be the unnecessary thing in the movie i have ever seen, felt rushed and just weird. But I love Joshua pearce his acting was top notch hope to see him in future movies.
            </p>
          </div>

          <!-- Thursday Murder Club -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://www.themoviedb.org/t/p/w1280/tzrJulItjttxzoX0t3B2My46TS7.jpg"
                  alt="Thursday Murder Club"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">Thursday Murder Club</h3>
                  <span class="inline-flex items-center rounded-full bg-destructive/10 px-3 py-1 text-xs font-semibold text-destructive ring-1 ring-inset ring-destructive/20 shrink-0">thriller</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2022</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  An interesting watch, definitely is a feel good movie, no two ways about it. As far as detective movies go, it's not the greatest but yeah credits where credit is due the story was goood, the whole storyline of the man with the silver knee and how they tied it into the current day wala story, good shit. Even the ending i really liked it, i sort of like that the whole romantic story being part of the story but not the main driving force of the story
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              An interesting watch, definitely is a feel good movie, no two ways about it. As far as detective movies go, it's not the greatest but yeah credits where credit is due the story was goood, the whole storyline of the man with the silver knee and how they tied it into the current day wala story, good shit. Even the ending i really liked it, i sort of like that the whole romantic story being part of the story but not the main driving force of the story
            </p>
          </div>

          <!-- How to train your dragon -->
          <div class="group rounded-lg border bg-card p-4 sm:p-5 transition-all hover:shadow-md hover:border-primary/20">
            <div class="flex gap-4 sm:gap-5 mb-3 sm:mb-0">
              <div class="relative w-24 h-36 sm:w-28 sm:h-40 shrink-0 overflow-hidden rounded-md bg-muted shadow-md">
                <img
                  src="https://www.themoviedb.org/t/p/w1280/q5pXRYTycaeW6dEgsCrd4mYPmxM.jpg"
                  alt="How to train your dragon"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex-1 flex flex-col gap-2 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <h3 class="font-semibold text-lg leading-tight break-words overflow-wrap-anywhere">How to train your dragon(live action)</h3>
                  <span class="inline-flex items-center rounded-full bg-muted px-3 py-1 text-xs font-semibold text-muted-foreground ring-1 ring-inset ring-border shrink-0">fantasy</span>
                </div>
                <p class="text-xs text-muted-foreground sm:hidden">2025</p>
                <p class="text-sm text-muted-foreground leading-relaxed hidden sm:block">
                  Belongs to rare genre of movies called Good live action movie remake of a classic movie, because this is a type of movies noone asks for and most of the time they do a crappy half-assed job with it. So yeah I really liked it it had a perfect combination such that it had enough of the original story what i like to call "the lore" and the perfect amount of something new(just anything to set it apart from the original), i personally thing they should stop remaking these remakes but when done right not the worst thing in the world
                </p>
              </div>
            </div>
            <p class="text-sm text-muted-foreground leading-relaxed sm:hidden">
              Belongs to rare genre of movies called Good live action movie remake of a classic movie, because this is a type of movies noone asks for and most of the time they do a crappy half-assed job with it. So yeah I really liked it it had a perfect combination such that it had enough of the original story what i like to call "the lore" and the perfect amount of something new(just anything to set it apart from the original), i personally thing they should stop remaking these remakes but when done right not the worst thing in the world
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <style>
    .spoiler-btn .spoiler-text {
      background-color: hsl(var(--muted));
      color: transparent;
      user-select: none;
      border-radius: 0.25rem;
    }
    
    .spoiler-btn.revealed .spoiler-text {
      background-color: transparent;
      color: hsl(var(--muted-foreground));
      user-select: text;
    }
    
    .spoiler-btn {
      border-radius: 0.25rem;
    }
  </style>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const suggestionsSection = document.getElementById('suggestions-section');
      if (suggestionsSection) {
        let showingSuggestions = false;
        
        suggestionsSection.addEventListener('click', () => {
          showingSuggestions = !showingSuggestions;
          
          const span = suggestionsSection.querySelector('span');
          if (span) {
            span.textContent = showingSuggestions ? 'Hide suggestions' : 'Show suggestions';
          }
          
          const event = new CustomEvent('toggle-suggestions', { 
            detail: { show: showingSuggestions } 
          });
          window.dispatchEvent(event);
        });
      }
    });
  </script>
</Layout>
