---
import Breadcrumbs from '@/components/Breadcrumbs.astro'
import PostHead from '@/components/PostHead.astro'
import { badgeVariants } from '@/components/ui/badge'
import { Button } from '@/components/ui/button'
import { Accordion, AccordionItem, AccordionTrigger, AccordionContent } from '../../components/ui/accordion'
import Layout from '@/layouts/Layout.astro'
import { parseAuthors } from '@/lib/data-utils'
import { formatDate } from '@/lib/utils'
import { Icon } from 'astro-icon/components'
import { getEntry } from 'astro:content'

const post = await getEntry('blog', 'sitcoms')
if (!post) return Astro.redirect('/404')

const authors = await parseAuthors(post.data.authors ?? [])
---

<Layout>
  <PostHead slot="head" post={post} />

  <section class="grid grid-cols-[minmax(0px,1fr)_min(calc(var(--breakpoint-md)-2rem),100%)_minmax(0px,1fr)] gap-y-8">
    <div class="col-start-2 pt-4">
      <div class="flex items-center gap-3 text-sm text-muted-foreground mb-4 pb-3 border-b border-border/40">
        {authors.length > 0 && (
          <a href={`/authors/${authors[0].id}`} class="flex items-center gap-1.5 hover:text-foreground transition-colors">
            <Icon name="lucide:user" class="size-3.5" />
            <span>{authors[0].name}</span>
          </a>
        )}
        <span class="text-muted-foreground/40">•</span>
        <div class="flex items-center">
          <span>{formatDate(post.data.date)}</span>
        </div>
      </div>
      
      <h1 class="text-2xl font-semibold text-foreground">{post.data.title}</h1>
    </div>

    <article class="col-start-2 max-w-none prose dark:prose-invert">
      <p>
        I LOVE SITCOMS, they’re easily my favorite form of media. I’ve watched them during lectures, while traveling, even while solving math problems. (To this day, whenever I see FRIENDS clips, I get flashbacks of 12th-grade integration.)
      </p>
      <p>
        I’ve watched sitcoms when I was happy, sad, angry, or bored. What I’m trying to say is — there’s never a bad time to watch one. They fill you with this comforting, familiar warmth.
      </p>
      <p>
        My perfect sitcom would be:
      </p>
      <ul>
        <li><strong>Comedy</strong> – It should generally focus on humor, but not the classic setup-and-punchline kind. More effortless, casual, or physical comedy (Two & a Half Men style), something that flows naturally.</li>
        <li><strong>Real moments</strong> – Mix in a few genuine, touching moments that make the show feel grounded, like How I Met Your Mother’s Robin talking to her kids or Ted’s lonely night at MacLaren’s and especially Barney's never-ending moment.</li>
        <li><strong>Romantic plot</strong> – A romance that improves the story without being the story itself, like Jim & Pam in The Office.</li>
      </ul>
      <p>
        I can’t really rank these shows by “quality,” since I’ve watched them at different stages of my life and they are all sooo good. Instead, I’ll try to order them by the impact they’ve had on me.
      </p>

      <Accordion type="single" collapsible className="mt-6 space-y-4">
        <AccordionItem value="himym">
          <AccordionTrigger>1. How I Met Your Mother</AccordionTrigger>
          <AccordionContent>
            HIMYM is easily my favorite show among them. I have no idea how someone can say it had a decent ending; I hate it. My advice to anyone who hasn't watched it is, "Do not watch the finale." Stop at the second-to-last episode.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="office">
          <AccordionTrigger>2. The Office</AccordionTrigger>
          <AccordionContent>
            Another amazing show, The Office is absolutely mind-bogglingly beautiful, which makes it even sadder to see the fall-off once Michael left. The heart of the show is the story itself (Jim & Pam). It's kind of crazy how much Steve Carell carried the show.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="two-and-a-half-men">
          <AccordionTrigger>3. Two and a Half Men</AccordionTrigger>
          <AccordionContent>
            This is the last sitcom I have seen. I loved watching it; Charlie Sheen was amazing. His comedic timing is crazy. It's not like I hate Walden (Ashton Kutcher), but the quality drop was kind of insane, and Jake in the later years was not my favorite. I don't think they did a great job with his character development.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="brooklyn-99">
          <AccordionTrigger>4. Brooklyn Nine-Nine</AccordionTrigger>
          <AccordionContent>
            Brooklyn 99 has world-class writing. It was my past most favorite ever sitcom. The episode "The Box" is absolutely world-class; I remember watching it at 2 in the night, and it was crazy. Oh, and the Halloween Heists are world-class. I just didn't like that the Jake & Amy thing became the whole story, where every case solved and everything that happens is to develop their story. And those God-awful 'Black Lives Matter' episodes, I hate them so much.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="parks-and-rec">
          <AccordionTrigger>5. Parks and Recreation</AccordionTrigger>
          <AccordionContent>
            I think even this is a perfect example of a good sitcom. There are so many good and well-developed characters. I mean, we could argue Leslie was the main protagonist, but April & Andy's story, Chris & Ann, Tom's business story, Ron's stoic life lessons, and just sooo many good stories. It is rock solid & a pretty good must-watch.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="modern-family">
          <AccordionTrigger>6. Modern Family</AccordionTrigger>
          <AccordionContent>
            Another absolute banger of a sitcom. The craziest part about Modern Family is the sheer rewatchability of it. I could watch it a million times, like even its one of those YouTube compilations you can watch again & again. I think the only argument you could use against it is they did not know how to write growing kids growing up. Like all the cute kids grew up, and you either found them annoying or it was just a bad arc.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="new-girl">
          <AccordionTrigger>7. New Girl</AccordionTrigger>
          <AccordionContent>
            I saw New Girl in one of the most frustrating stages of my life & it is an amazing comfort show. Another show like seeing Nick Miller just go on with his life is another level of peak. Even Coach, as he was there, was just amazing.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="70s-show">
          <AccordionTrigger>8. That '70s Show</AccordionTrigger>
          <AccordionContent>
            Mediocre sitcom. I don't think anything bad or great. Well, there are good characters like Red and Kitty, but nothing particularly great. The reputation of the show is beyond saving with so many misogynistic remarks and comments and new shifts about Mila Kunis's age and accusations surrounding Steven Hyde's character. Definitely not a show to watch with today's lens.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="office-uk">
          <AccordionTrigger>9. The Office (UK)</AccordionTrigger>
          <AccordionContent>
            Super dry, awkward humor that's just a weird kind of humor. I most of the time love Ricky Gervais's jokes, but in this, there were a lot of those moments where it's so cringey you get such second-hand embarrassment. Overall, it’s clever and a nice change of pace if you like subtle comedy. Plus, that's where I started watching Ricky Gervais's comedy, and they are absolutely peak.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="friends">
          <AccordionTrigger>10. Friends</AccordionTrigger>
          <AccordionContent>
            Not my personal favorite, but it has a special place because it was the first sitcom I really got into. Nostalgia makes it fun to watch, and some moments still crack me up, even if it’s not the funniest show on this list. Ross's physical comedy is really underrated btw I love it.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="2-broke-girls">
          <AccordionTrigger>11. 2 Broke Girls</AccordionTrigger>
          <AccordionContent>
            Has its moments. Max’s sarcasm is top-tier, and Kat Dennings is just really fun to watch. The humor lands sometimes, and during that, it's absolutely hilarious, but most of the time, a lot of the jokes lean on stereotypes and can feel forced. Still, there are definitely episodes that are genuinely funny.
          </AccordionContent>
        </AccordionItem>
        <AccordionItem value="young-sheldon">
          <AccordionTrigger>12. Young Sheldon</AccordionTrigger>
          <AccordionContent>
            Honestly, if you haven't watched, you haven't missed out on anything great. It's not bad background sound, but as a dedicated show to watch, just don't.
          </AccordionContent>
        </AccordionItem>
      </Accordion>

      <p>
        If you strongly disagree with anything here, feel free to send me a message. For the smaller “meh, not quite” stuff, just keep it to yourself — this is mostly me sharing my own take.
      </p>
    </article>
  </section>

  <Button
    variant="outline"
    size="icon"
    className="group fixed right-8 bottom-8 z-50 hidden"
    id="scroll-to-top"
    title="Scroll to top"
    aria-label="Scroll to top"
  >
    <Icon name="lucide:arrow-up" class="mx-auto size-4 transition-all group-hover:-translate-y-0.5" />
  </Button>

  <script>
    document.addEventListener('astro:page-load', () => {
      const scrollToTopButton = document.getElementById('scroll-to-top')
      const footer = document.querySelector('footer')

      if (scrollToTopButton && footer) {
        scrollToTopButton.addEventListener('click', () => {
          window.scrollTo({ top: 0, behavior: 'smooth' })
        })

        window.addEventListener('scroll', () => {
          const footerRect = footer.getBoundingClientRect()
          const isFooterVisible = footerRect.top <= window.innerHeight
          scrollToTopButton.classList.toggle('hidden', window.scrollY <= 300 || isFooterVisible)
        })
      }
    })
  </script>
</Layout>
